---
editor_options: 
  markdown: 
    wrap: sentence
---

# 시계열 그래프

모든 통계자료 분석의 첫 번째 단계는 적절한 그래프를 작성하는 것이다.
자료의 전체 모습을 확인하는데 자료의 시각화 만큼 효과적인 방법도 없을 것이다.
시계열분석에서도 이 규칙은 예외 없이 적용된다고 할 수 있다.
그럼 시계열 자료는 어떤 특징을 갖고 있으며, 일반적인 통계 자료와 어떤 차이가 있는지 알아보도록 하자.

## 시계열 자료

동일한 대상을 시간의 흐름에 따라 계속해서 관측할 수 있는데, 이러한 과정에서 생성된 자료를 시계열자료라고 한다.
시계열자료에는 기온과 같이 연속적으로 생성은 되지만 일정한 간격을 두고 관측하는 연속 시계열 자료가 있고, 일일 전기 소비량과 같이 자료의 생성 및 관측에 일정한 간격이 있는 이산 시계열 자료가 있다.
이 책에서는 이산 시계열 자료를 대상으로 하는 분석 기법을 다루고자 한다.

일정한 간격을 두고 관측되는 시계열 자료의 관측 시점의 차이를 시차 (time lag)라고 한다.

### 종단 자료(cross-sectional data)와의 비교

시계열 자료는 여러 시점에 걸쳐서 동일 개체에 대하여 반복해서 관측된 자료를 의미한다.
반면에 종단 자료는 어느 특정 시점에서 여러 개체에 대해 관측된 자료를 의미한다.
두 형태의 자료에 대한 예로써 다음의 표를 살펴보자.

첫 번째 표는 특정 시점에 4개 기업에 대한 주가, 유동자산 및 부채를 조사한 모의 자료이다. 
회귀분석 등으로 분석이 가능한 형태의 자료라고 할 수 있다. 

+--------+--------+----------+--------+
| 기업   | 주가   | 유동자산 | 부채   |
+:======:+:======:+:========:+:======:+
| A      | 56,500 | 95       | 55     |
+--------+--------+----------+--------+
| B      | 24,000 | 20       | 23     |
+--------+--------+----------+--------+
| C      | 86,000 | 110      | 98     |
+--------+--------+----------+--------+
| D      | 12,000 | 32       | 13     |
+--------+--------+----------+--------+

: 종단자료


두 번째 표는 3월 2일부터 3월 5일까지 A 기업과 B 기업의 주가 자료라고 하자. 
일일 간격으로 4일 동안 두 기업의 주가를 반복해서 관측한 자료이므로 시계열 자료에 해당한다.

+------------+---------------+---------------+
| 일시       | A 기업의 주가 | B 기업의 주가 |
+:==========:+:=============:+:=============:+
| 3.2        | 56,500        | 24,000        |
+------------+---------------+---------------+
| 3.3        | 54,200        | 23,100        |
+------------+---------------+---------------+
| 3.4        | 54,600        | 22,300        |
+------------+---------------+---------------+
| 3.5        | 52,100        | 23,200        |
+------------+---------------+---------------+

: 시계열자료


### 시계열 예측 

통계적 추론을 위한 기본적인 가정은 자료가 서로 독립이고 동일한 분포를 갖고 있다는 것이다. 
따라서 통계 자료가 서로 독립이 아니라면 통계적 예측 모형을 효과적으로 적용하기 어렵다고 할 수 있다.

앞 절에서 살펴본 종단자료는 거의 모든 경우에 행의 순서를 뒤섞어도 문제가 되지 않는 자료이기 때문에, 
독립성에는 큰 문제가 없는 것이 일반적인 상황이다. 따라서 이러한 형태의 자료에 대해서는 무리 없이 
선형회귀모형 등을 적합시켜 예측을 효과적으로 실시할 수 있다. 

반면에 시계열자료의 경우에는 예컨대 3월 3일 주가는 3월 2일 주가와 독립이 될 수 없는 상황이다. 
따라서 시계열자료에 대한 예측모형은 독립성을 가정하고 있는 일반적인 통계모형을 사용할 수 없는 것이다.  

우리는 앞으로 시계열자료를 대상으로 효과적인 예측을 실시할 수 있는 다양한 모형을 살펴볼 것이다.
시계열 예측은 많은 분야에서 필수적인 사항이고, 따라서 전문가가 많이 필요한 분야라고 할 수 있다. 


## 시계열 그래프 작성

시계열자료는 관측 결과 뿐 아니라 관측이 시작된 시점과 끝난 시점, 관측 간격으로 이루어져 있으며, 
이러한 정보를 R에서는 'ts' 객체에 저장할 수 있다. 

예를 들어 `AirPassengers`는 미국 Pam Am 항공사의 1949년부터 1960년까지 월별 항공기 탑승 승객 수가 
천 명 단위로 입력되어 있다. 

```{r}
AirPassengers
```

`AirPassengers'는 `ts` 객체이다. 출력된 형태는 2차원 구조로 보이지만, 벡터와 같은 1차원 배열이다. 
`ts` 객체의 특성은 다음과 같이 알아볼 수 있다. 

```{r}
class(AirPassengers)
start(AirPassengers)
end(AirPassengers)
frequency(AirPassengers)
```


















